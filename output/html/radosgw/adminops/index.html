
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>管理操作 &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../" />
    <link rel="up" title="Ceph 对象网关" href="../" />
    <link rel="next" title="与 OpenStack Keystone 对接" href="../keystone/" />
    <link rel="prev" title="Ruby Swift Examples" href="../swift/ruby/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../keystone/" title="与 OpenStack Keystone 对接"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../swift/ruby/" title="Ruby Swift Examples"
             accesskey="P">previous</a> |</li>
        <li><a href="../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../" accesskey="U">Ceph 对象网关</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="id1">
<h1>管理操作<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>An admin API request will be done on a URI that starts with the configurable &#8216;admin&#8217;
resource entry point. Authorization for the admin API duplicates the S3 authorization
mechanism. Some operations require that the user holds special administrative capabilities.
The response entity type (XML or JSON) may be specified as the &#8216;format&#8217; option in the
request and defaults to JSON if not specified.</p>
<div class="section" id="get-usage">
<h2>Get Usage<a class="headerlink" href="#get-usage" title="Permalink to this headline">¶</a></h2>
<p>请求带宽利用率信息。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">usage=read</td>
</tr>
</tbody>
</table>
<div class="section" id="id2">
<h3>语法<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>GET /{admin}/usage?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="id3">
<h3>请求参数<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user for which the information is requested. If not specified will apply to all users.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">start</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Date and (optional) time that specifies the start time of the requested data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">end</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Date and (optional) time that specifies the end time of the requested data (non-inclusive).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">show-entries</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specifies whether data entries should be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">show-summary</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specifies whether data summary should be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="response-entities">
<h3>Response Entities<a class="headerlink" href="#response-entities" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the requested information.</p>
<p><tt class="docutils literal"><span class="pre">usage</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the usage information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">entries</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the usage entries information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">owner</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the user that owns the buckets.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">time</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Time lower bound for which data is being specified (rounded to the beginning of the first relevant hour).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">epoch</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The time specified in seconds since 1/1/1970.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">categories</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for stats categories.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">entry</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for stats entry.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">category</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Name of request category for which the stats are provided.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">bytes_sent</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Number of bytes sent by the RADOS Gateway.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">bytes_received</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Number of bytes received by the RADOS Gateway.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">ops</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Number of operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">successful_ops</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Number of successful operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">summary</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for stats summary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">total</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for stats summary aggregated total.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="special-error-responses">
<h3>Special Error Responses<a class="headerlink" href="#special-error-responses" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</div>
</div>
<div class="section" id="trim-usage">
<h2>Trim Usage<a class="headerlink" href="#trim-usage" title="Permalink to this headline">¶</a></h2>
<p>Remove usage information. With no dates specified, removes all usage
information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">usage=write</td>
</tr>
</tbody>
</table>
<div class="section" id="syntax">
<h3>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/usage?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="request-parameters">
<h3>Request Parameters<a class="headerlink" href="#request-parameters" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user for which the information is requested. If not specified will apply to all users.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">start</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Date and (optional) time that specifies the start time of the requested data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">end</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Date and (optional) time that specifies the end time of the requested data (none inclusive).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">remove-all</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Required when uid is not specified, in order to acknowledge multi user data removal.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Special Error Responses<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</div>
</div>
<div class="section" id="get-user-info">
<h2>Get User Info<a class="headerlink" href="#get-user-info" title="Permalink to this headline">¶</a></h2>
<p>Get user information. If no user is specified returns the list of all users along with suspension
information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=read</td>
</tr>
</tbody>
</table>
<div class="section" id="id5">
<h3>Syntax<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>GET /{admin}/user?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="id6">
<h3>Request Parameters<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user for which the information is requested.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h3>Response Entities<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user information.</p>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user_id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">display_name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Display name for the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">suspended</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">True if the user is suspended.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">max_buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of buckets to be owned by the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subusers</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subusers associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">S3 keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">swift_keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Swift keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id8">
<h3>Special Error Responses<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="create-user">
<h2>Create User<a class="headerlink" href="#create-user" title="Permalink to this headline">¶</a></h2>
<p>Create a new user. By Default, a S3 key pair will be created automatically
and returned in the response. If only one of <tt class="docutils literal"><span class="pre">access-key</span></tt> or <tt class="docutils literal"><span class="pre">secret-key</span></tt>
is provided, the omitted key will be automatically generated. By default, a
generated key is added to the keyring without replacing an existing key pair.
If <tt class="docutils literal"><span class="pre">access-key</span></tt> is specified and refers to an existing key owned by the user
then it will be modified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id9">
<h3>Syntax<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/user?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="id10">
<h3>Request Parameters<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to be created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">display-name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The display name of the user to be created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo</span> <span class="pre">user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">email</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The email address associated with the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo&#64;bar.com</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be generated, options are: swift, s3 (default).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">s3</span></tt> [<tt class="docutils literal"><span class="pre">s3</span></tt>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify access key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">ABCD0EF12GHIJ2K34LMN</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user-caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">usage=read,</span> <span class="pre">write;</span> <span class="pre">users=read</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">generate-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Generate a new key pair and add to the existing keyring.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [True]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">max-buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify the maximum number of buckets the user can own.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">500 [1000]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">suspended</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify whether the user should be suspended.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">False [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h3>Response Entities<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user information.</p>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user_id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">display_name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Display name for the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">suspended</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">True if the user is suspended.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">max_buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of buckets to be owned by the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subusers</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subusers associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">S3 keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">swift_keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Swift keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id12">
<h3>Special Error Responses<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">UserExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempt to create existing user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidAccessKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid access key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidSecretKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid secret key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">KeyExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Provided access key exists and belongs to another user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">EmailExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Provided email address exists.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidCap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempt to grant invalid admin capability.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="modify-user">
<h2>Modify User<a class="headerlink" href="#modify-user" title="Permalink to this headline">¶</a></h2>
<p>Modify a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id13">
<h3>Syntax<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>POST /{admin}/user?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="id14">
<h3>Request Parameters<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to be modified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">display-name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The display name of the user to be modified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo</span> <span class="pre">user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">email</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The email address to be associated with the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo&#64;bar.com</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">generate-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Generate a new key pair and add to the existing keyring.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify access key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">ABCD0EF12GHIJ2K34LMN</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be generated, options are: swift, s3 (default).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">s3</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user-caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">usage=read,</span> <span class="pre">write;</span> <span class="pre">users=read</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">max-buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify the maximum number of buckets the user can own.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">500 [1000]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">suspended</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify whether the user should be suspended.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">False [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id15">
<h3>Response Entities<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user information.</p>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user_id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">display_name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Display name for the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">suspended</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">True if the user is suspended.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">max_buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of buckets to be owned by the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subusers</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subusers associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">S3 keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">swift_keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Swift keys associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h3>Special Error Responses<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">InvalidAccessKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid access key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidSecretKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid secret key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">KeyExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Provided access key exists and belongs to another user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">EmailExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Provided email address exists.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidCap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempt to grant invalid admin capability.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="remove-user">
<h2>Remove User<a class="headerlink" href="#remove-user" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id17">
<h3>Syntax<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/user?format=json HTTP/1.1
Host: {fqdn}</pre>
</div>
</div>
<div class="section" id="id18">
<h3>Request Parameters<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to be removed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">purge-data</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">When specified the buckets and objects belonging
to the user will also be removed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id19">
<h3>Response Entities<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</div>
<div class="section" id="id20">
<h3>Special Error Responses<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="create-subuser">
<h2>Create Subuser<a class="headerlink" href="#create-subuser" title="Permalink to this headline">¶</a></h2>
<p>Create a new subuser (primarily useful for clients using the Swift API).
Note that either <tt class="docutils literal"><span class="pre">gen-subuser</span></tt> or <tt class="docutils literal"><span class="pre">subuser</span></tt> is required for a valid
request. Note that in general for a subuser to be useful, it must be
granted permissions by specifying <tt class="docutils literal"><span class="pre">access</span></tt>. As with user creation if
<tt class="docutils literal"><span class="pre">subuser</span></tt> is specified without <tt class="docutils literal"><span class="pre">secret</span></tt>, then a secret key will
be automatically generated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id21">
<h3>Syntax<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id22">
<h3>Request Parameters<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID under which a subuser is to  be created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subuser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify the subuser ID to be created.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">sub_foo</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be generated, options are: swift (default), s3.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">swift</span></tt> [<tt class="docutils literal"><span class="pre">swift</span></tt>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set access permissions for sub-user, should be one
of <tt class="docutils literal"><span class="pre">read,</span> <span class="pre">write,</span> <span class="pre">readwrite,</span> <span class="pre">full</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">read</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">generate-secret</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Generate the secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id23">
<h3>Response Entities<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the subuser information.</p>
<p><tt class="docutils literal"><span class="pre">subusers</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subusers associated with the user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subuser id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">subusers</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">permissions</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subuser access to user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">subusers</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id24">
<h3>Special Error Responses<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">SubuserExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specified subuser exists.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidSecretKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid secret key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidAccess</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid subuser access specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="modify-subuser">
<h2>Modify Subuser<a class="headerlink" href="#modify-subuser" title="Permalink to this headline">¶</a></h2>
<p>Modify an existing subuser</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id25">
<h3>Syntax<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>POST /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id26">
<h3>Request Parameters<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID under which the subuser is to be modified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subuser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The subuser ID to be modified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">sub_foo</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">generate-secret</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Generate a new secret key for the subuser,
replacing the existing key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be generated, options are: swift (default), s3 .</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">swift</span></tt> [<tt class="docutils literal"><span class="pre">swift</span></tt>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set access permissions for sub-user, should be one
of <tt class="docutils literal"><span class="pre">read,</span> <span class="pre">write,</span> <span class="pre">readwrite,</span> <span class="pre">full</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">read</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id27">
<h3>Response Entities<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the subuser information.</p>
<p><tt class="docutils literal"><span class="pre">subusers</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subusers associated with the user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subuser id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">subusers</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">permissions</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Subuser access to user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">subusers</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id28">
<h3>Special Error Responses<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidSecretKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid secret key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidAccess</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid subuser access specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="remove-subuser">
<h2>Remove Subuser<a class="headerlink" href="#remove-subuser" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing subuser</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id29">
<h3>Syntax<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id30">
<h3>Request Parameters<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID under which the subuser is to be removed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subuser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The subuser ID to be removed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">sub_foo</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">purge-keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Remove keys belonging to the subuser.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [True]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id31">
<h3>Response Entities<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id32">
<h3>Special Error Responses<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="create-key">
<h2>Create Key<a class="headerlink" href="#create-key" title="Permalink to this headline">¶</a></h2>
<p>Create a new key. If a <tt class="docutils literal"><span class="pre">subuser</span></tt> is specified then by default created keys
will be swift type. If only one of <tt class="docutils literal"><span class="pre">access-key</span></tt> or <tt class="docutils literal"><span class="pre">secret-key</span></tt> is provided the
committed key will be automatically generated, that is if only <tt class="docutils literal"><span class="pre">secret-key</span></tt> is
specified then <tt class="docutils literal"><span class="pre">access-key</span></tt> will be automatically generated. By default, a
generated key is added to the keyring without replacing an existing key pair.
If <tt class="docutils literal"><span class="pre">access-key</span></tt> is specified and refers to an existing key owned by the user
then it will be modified. The response is a container listing all keys of the same
type as the key created. Note that when creating a swift key, specifying the option
<tt class="docutils literal"><span class="pre">access-key</span></tt> will have no effect. Additionally, only one swift key may be held by
each user or subuser.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id33">
<h3>Syntax<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/user?key&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id34">
<h3>Request Parameters<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to receive the new key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subuser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The subuser ID to receive the new key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">sub_foo</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be generated, options are: swift, s3 (default).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">s3</span></tt> [<tt class="docutils literal"><span class="pre">s3</span></tt>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify the access key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">AB01C2D3EF45G6H7IJ8K</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specify the secret key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0ab/CdeFGhij1klmnopqRSTUv1WxyZabcDEFgHij</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">generate-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Generate a new key pair and add to the existing keyring.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [<tt class="docutils literal"><span class="pre">True</span></tt>]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id35">
<h3>Response Entities<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">keys</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Keys of type created associated with this user account.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user account associated with the key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">keys</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">access-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The access key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">keys</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">secret-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The secret key</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">keys</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id36">
<h3>Special Error Responses<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">InvalidAccessKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid access key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidSecretKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid secret key specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InvalidKeyType</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Invalid key type specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">KeyExists</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Provided access key exists and belongs to another user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="remove-key">
<h2>Remove Key<a class="headerlink" href="#remove-key" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id37">
<h3>Syntax<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/user?key&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id38">
<h3>Request Parameters<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">access-key</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The S3 access key belonging to the S3 key pair to remove.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">AB01C2D3EF45G6H7IJ8K</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user to remove the key from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">subuser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The subuser to remove the key from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">sub_foo</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">key-type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Key type to be removed, options are: swift, s3.
NOTE: Required to remove swift key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">swift</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id39">
<h3>Special Error Responses<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id40">
<h3>Response Entities<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="get-bucket-info">
<h2>Get Bucket Info<a class="headerlink" href="#get-bucket-info" title="Permalink to this headline">¶</a></h2>
<p>Get information about a subset of the existing buckets. If <tt class="docutils literal"><span class="pre">uid</span></tt> is specified
without <tt class="docutils literal"><span class="pre">bucket</span></tt> then all buckets beloning to the user will be returned. If
<tt class="docutils literal"><span class="pre">bucket</span></tt> alone is specified, information for that particular bucket will be
retrieved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=read</td>
</tr>
</tbody>
</table>
<div class="section" id="id41">
<h3>Syntax<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>GET /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id42">
<h3>Request Parameters<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to return info on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user to retrieve bucket information for.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">stats</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Return bucket statistics.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id43">
<h3>Response Entities<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<p>If successful the request returns a buckets container containing
the desired bucket information.</p>
<p><tt class="docutils literal"><span class="pre">stats</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Per bucket information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">buckets</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Contains a list of one or more bucket containers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Container for single bucket information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">buckets</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the bucket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">pool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The pool the bucket is stored in.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The unique bucket id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">marker</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Internal bucket tag.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">owner</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id of the bucket owner.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">usage</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Storage usage information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">index</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Status of bucket index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id44">
<h3>Special Error Responses<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">IndexRepairFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Bucket index repair failed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="check-bucket-index">
<h2>Check Bucket Index<a class="headerlink" href="#check-bucket-index" title="Permalink to this headline">¶</a></h2>
<p>Check the index of an existing bucket. NOTE: to check multipart object
accounting with <tt class="docutils literal"><span class="pre">check-objects</span></tt>, <tt class="docutils literal"><span class="pre">fix</span></tt> must be set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id45">
<h3>Syntax<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>GET /{admin}/bucket?index&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id46">
<h3>Request Parameters<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to return info on.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">check-objects</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Check multipart object accounting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">fix</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Also fix the bucket index when checking.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">False [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id47">
<h3>Response Entities<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">index</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Status of bucket index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id48">
<h3>Special Error Responses<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">IndexRepairFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Bucket index repair failed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="remove-bucket">
<h2>Remove Bucket<a class="headerlink" href="#remove-bucket" title="Permalink to this headline">¶</a></h2>
<p>Delete an existing bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id49">
<h3>Syntax<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id50">
<h3>Request Parameters<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to remove.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">purge-objects</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Remove a buckets objects before deletion.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">True [False]</td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id51">
<h3>Response Entities<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id52">
<h3>Special Error Responses<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">BucketNotEmpty</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempted to delete non-empty bucket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">ObjectRemovalFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Unable to remove objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="unlink-bucket">
<h2>Unlink Bucket<a class="headerlink" href="#unlink-bucket" title="Permalink to this headline">¶</a></h2>
<p>Unlink a bucket from a specified user. Primarily useful for changing
bucket ownership.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id53">
<h3>Syntax<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>POST /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id54">
<h3>Request Parameters<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to unlink.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to unlink the bucket from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id55">
<h3>Response Entities<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id56">
<h3>Special Error Responses<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">BucketUnlinkFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Unable to unlink bucket from specified user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="link-bucket">
<h2>Link Bucket<a class="headerlink" href="#link-bucket" title="Permalink to this headline">¶</a></h2>
<p>Link a bucket to a specified user, unlinking the bucket from
any previous user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id57">
<h3>Syntax<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id58">
<h3>Request Parameters<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to unlink.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to link the bucket to.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id59">
<h3>Response Entities<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Container for single bucket information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the bucket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">pool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The pool the bucket is stored in.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The unique bucket id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">marker</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Internal bucket tag.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">owner</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id of the bucket owner.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">usage</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Storage usage information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">index</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Status of bucket index.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bucket</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id60">
<h3>Special Error Responses<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">BucketUnlinkFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Unable to unlink bucket from specified user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">BucketLinkFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Unable to link bucket to specified user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="remove-object">
<h2>Remove Object<a class="headerlink" href="#remove-object" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing object. NOTE: Does not require owner to be non-suspended.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id61">
<h3>Syntax<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/bucket?object&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id62">
<h3>Request Parameters<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket containing the object to be removed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">object</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The object to remove.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo.txt</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id63">
<h3>Response Entities<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id64">
<h3>Special Error Responses<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">NoSuchObject</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Specified object does not exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">404 Not Found</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">ObjectRemovalFailed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Unable to remove objects.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">409 Conflict</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="get-bucket-or-object-policy">
<h2>Get Bucket or Object Policy<a class="headerlink" href="#get-bucket-or-object-policy" title="Permalink to this headline">¶</a></h2>
<p>Read the policy of an object or bucket.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">buckets=read</td>
</tr>
</tbody>
</table>
<div class="section" id="id65">
<h3>Syntax<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>GET /{admin}/bucket?policy&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id66">
<h3>Request Parameters<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The bucket to read the policy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_bucket</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">object</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The object to read the policy from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo.txt</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id67">
<h3>Response Entities<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h3>
<p>If successful, returns the object or bucket policy</p>
<p><tt class="docutils literal"><span class="pre">policy</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Access control policy.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id68">
<h3>Special Error Responses<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">IncompleteBody</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Either bucket was not specified for a bucket policy request or bucket
and object were not specified for an object policy request.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="add-a-user-capability">
<h2>Add A User Capability<a class="headerlink" href="#add-a-user-capability" title="Permalink to this headline">¶</a></h2>
<p>Add an administrative capability to a specified user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id69">
<h3>Syntax<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/user?caps&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id70">
<h3>Request Parameters<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to add an administrative capability to.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user-caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The administrative capability to add to the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">usage=read,</span> <span class="pre">write</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id71">
<h3>Response Entities<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user&#8217;s capabilities.</p>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user_id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id72">
<h3>Special Error Responses<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">InvalidCap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempt to grant invalid admin capability.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-request">
<h3>Example Request<a class="headerlink" href="#example-request" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>PUT /{admin}/user?caps&amp;format=json HTTP/1.1
Host: {fqdn}
Content-Type: text/plain
Authorization: {your-authorization-token}

usage=read</pre>
</div>
</div>
</div>
<div class="section" id="remove-a-user-capability">
<h2>Remove A User Capability<a class="headerlink" href="#remove-a-user-capability" title="Permalink to this headline">¶</a></h2>
<p>Remove an administrative capability from a specified user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">caps:</th><td class="field-body">users=write</td>
</tr>
</tbody>
</table>
<div class="section" id="id73">
<h3>Syntax<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><pre>DELETE /{admin}/user?caps&amp;format=json HTTP/1.1
Host {fqdn}</pre>
</div>
</div>
<div class="section" id="id74">
<h3>Request Parameters<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">uid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user ID to remove an administrative capability from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">foo_user</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user-caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The administrative capabilities to remove from the user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">usage=read,</span> <span class="pre">write</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Required:</th><td class="field-body">Yes</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id75">
<h3>Response Entities<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user&#8217;s capabilities.</p>
<p><tt class="docutils literal"><span class="pre">user</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">A container for the user data information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">user_id</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The user id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">caps</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User capabilities.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Container</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parent:</th><td class="field-body"><tt class="docutils literal"><span class="pre">user</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id76">
<h3>Special Error Responses<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">InvalidCap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Attempt to remove an invalid admin capability.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">400 Bad Request</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">NoSuchCap</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User does not possess specified capability.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">404 Not Found</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id77">
<h3>Special Error Responses<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="quotas">
<h2>Quotas<a class="headerlink" href="#quotas" title="Permalink to this headline">¶</a></h2>
<p>The Admin Operations API enables you to set quotas on users and on bucket owned
by users. See <a class="reference external" href="../admin#quota-management">Quota Management</a> for additional details. Quotas include the
maximum number of objects in a bucket and the maximum storage size in megabytes.</p>
<p>To view quotas, the user must have a <tt class="docutils literal"><span class="pre">users=read</span></tt> capability. To set,
modify or disable a quota, the user must have <tt class="docutils literal"><span class="pre">users=write</span></tt> capability.
See the <a class="reference external" href="../admin">Admin Guide</a> for details.</p>
<p>Valid parameters for quotas include:</p>
<ul class="simple">
<li><strong>Bucket:</strong> The <tt class="docutils literal"><span class="pre">bucket</span></tt> option allows you to specify a quota for
buckets owned by a user.</li>
<li><strong>Maximum Objects:</strong> The <tt class="docutils literal"><span class="pre">max-objects</span></tt> setting allows you to specify
the maximum number of objects. A negative value disables this setting.</li>
<li><strong>Maximum Size:</strong> The <tt class="docutils literal"><span class="pre">max-size</span></tt> option allows you to specify a quota
for the maximum number of bytes. A negative value disables this setting.</li>
<li><strong>Quota Scope:</strong> The <tt class="docutils literal"><span class="pre">quota-scope</span></tt> option sets the scope for the quota.
The options are <tt class="docutils literal"><span class="pre">bucket</span></tt> and <tt class="docutils literal"><span class="pre">user</span></tt>.</li>
</ul>
<div class="section" id="get-user-quota">
<h3>Get User Quota<a class="headerlink" href="#get-user-quota" title="Permalink to this headline">¶</a></h3>
<p>To get a quota, the user must have <tt class="docutils literal"><span class="pre">users</span></tt> capability set with <tt class="docutils literal"><span class="pre">read</span></tt>
permission.</p>
<div class="highlight-python"><pre>GET /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=user</pre>
</div>
</div>
<div class="section" id="set-user-quota">
<h3>Set User Quota<a class="headerlink" href="#set-user-quota" title="Permalink to this headline">¶</a></h3>
<p>To set a quota, the user must have <tt class="docutils literal"><span class="pre">users</span></tt> capability set with <tt class="docutils literal"><span class="pre">write</span></tt>
permission.</p>
<div class="highlight-python"><pre>PUT /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=user</pre>
</div>
<p>The content must include a JSON representation of the quota settings
as encoded in the corresponding read operation.</p>
</div>
<div class="section" id="get-bucket-quota">
<h3>Get Bucket Quota<a class="headerlink" href="#get-bucket-quota" title="Permalink to this headline">¶</a></h3>
<p>To get a quota, the user must have <tt class="docutils literal"><span class="pre">users</span></tt> capability set with <tt class="docutils literal"><span class="pre">read</span></tt>
permission.</p>
<div class="highlight-python"><pre>GET /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=bucket</pre>
</div>
</div>
<div class="section" id="set-bucket-quota">
<h3>Set Bucket Quota<a class="headerlink" href="#set-bucket-quota" title="Permalink to this headline">¶</a></h3>
<p>To set a quota, the user must have <tt class="docutils literal"><span class="pre">users</span></tt> capability set with <tt class="docutils literal"><span class="pre">write</span></tt>
permission.</p>
<div class="highlight-python"><pre>PUT /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=bucket</pre>
</div>
<p>The content must include a JSON representation of the quota settings
as encoded in the corresponding read operation.</p>
</div>
</div>
<div class="section" id="standard-error-responses">
<h2>Standard Error Responses<a class="headerlink" href="#standard-error-responses" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">AccessDenied</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Access denied.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">403 Forbidden</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">InternalError</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Internal server error.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">500 Internal Server Error</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">NoSuchUser</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">User does not exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">404 Not Found</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">NoSuchBucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Bucket does not exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">404 Not Found</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">NoSuchKey</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">No such access key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Code:</th><td class="field-body">404 Not Found</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装（手动）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 对象网关</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../install/install-ceph-gateway/">手动安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/">简单配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../federated-config/">联盟配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-ref/">配置参考</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/">管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../purge-temp/">清除临时数据</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3/">S3 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swift/">Swift API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">管理操作 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-usage">Get Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-entities">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-error-responses">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#trim-usage">Trim Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request-parameters">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-user-info">Get User Info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-user">Create User</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modify-user">Modify User</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-user">Remove User</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-subuser">Create Subuser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id21">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modify-subuser">Modify Subuser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id25">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-subuser">Remove Subuser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id29">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-key">Create Key</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id33">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-key">Remove Key</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id37">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id39">Special Error Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id40">Response Entities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-bucket-info">Get Bucket Info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id41">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id43">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#check-bucket-index">Check Bucket Index</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id45">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id47">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-bucket">Remove Bucket</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id49">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id50">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id51">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id52">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#unlink-bucket">Unlink Bucket</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id53">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id54">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id55">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id56">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#link-bucket">Link Bucket</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id57">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id59">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id60">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-object">Remove Object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id61">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id62">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id64">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-bucket-or-object-policy">Get Bucket or Object Policy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id65">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id68">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-user-capability">Add A User Capability</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id69">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id70">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id72">Special Error Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-request">Example Request</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-a-user-capability">Remove A User Capability</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id73">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id74">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id75">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id76">Special Error Responses</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id77">Special Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quotas">Quotas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-user-quota">Get User Quota</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-user-quota">Set User Quota</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-bucket-quota">Get Bucket Quota</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-bucket-quota">Set Bucket Quota</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#standard-error-responses">Standard Error Responses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../keystone/">与 OpenStack Keystone 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw/">radosgw 手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw-admin/">radosgw-admin 手册页</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../keystone/" title="与 OpenStack Keystone 对接"
             >next</a> |</li>
        <li class="right" >
          <a href="../swift/ruby/" title="Ruby Swift Examples"
             >previous</a> |</li>
        <li><a href="../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../" >Ceph 对象网关</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>