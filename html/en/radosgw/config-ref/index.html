
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ceph Object Gateway Config Reference &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ceph-object-gateway-config-reference">
<h1>Ceph Object Gateway Config Reference<a class="headerlink" href="#ceph-object-gateway-config-reference" title="Permalink to this headline">¶</a></h1>
<p>The following settings may added to the Ceph configuration file (i.e., usually
<tt class="docutils literal"><span class="pre">ceph.conf</span></tt>) under the <tt class="docutils literal"><span class="pre">[client.radosgw.{instance-name}]</span></tt> section. The
settings may contain default values. If you do not specify each setting in the
Ceph configuration file, the default value will be set automatically.</p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">data</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Sets the location of the data files for Ceph Object Gateway.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">/var/lib/ceph/radosgw/$cluster-$id</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">apis</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enables the specified APIs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">s3,</span> <span class="pre">swift,</span> <span class="pre">swift_auth,</span> <span class="pre">admin</span></tt> All APIs.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">cache</span> <span class="pre">enabled</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether the Ceph Object Gateway cache is enabled.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">cache</span> <span class="pre">lru</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of entries in the Ceph Object Gateway cache.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10000</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">socket</span> <span class="pre">path</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The socket path for the domain socket. <tt class="docutils literal"><span class="pre">FastCgiExternalServer</span></tt>
uses this socket. If you do not specify a socket path, Ceph
Object Gateway will not run as an external server. The path you
specify here must be the same as the path specified in the
<tt class="docutils literal"><span class="pre">rgw.conf</span></tt> file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">N/A</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">host</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The host for the Ceph Object Gateway instance. Can be an IP
address or a hostname.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.0.0.0</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">port</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Port the instance listens for requests. If not specified,
Ceph Object Gateway runs external FastCGI.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The DNS name of the served domain. See also the <tt class="docutils literal"><span class="pre">hostnames</span></tt> setting within regions.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">script</span> <span class="pre">uri</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The alternative value for the <tt class="docutils literal"><span class="pre">SCRIPT_URI</span></tt> if not set
in the request.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">request</span> <span class="pre">uri</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The alternative value for the <tt class="docutils literal"><span class="pre">REQUEST_URI</span></tt> if not set
in the request.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">print</span> <span class="pre">continue</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enable <tt class="docutils literal"><span class="pre">100-continue</span></tt> if it is operational.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">remote</span> <span class="pre">addr</span> <span class="pre">param</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The remote address parameter. For example, the HTTP field
containing the remote address, or the <tt class="docutils literal"><span class="pre">X-Forwarded-For</span></tt>
address if a reverse proxy is operational.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">REMOTE_ADDR</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">op</span> <span class="pre">thread</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The timeout in seconds for open threads.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">600</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">op</span> <span class="pre">thread</span> <span class="pre">suicide</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The time <tt class="docutils literal"><span class="pre">timeout</span></tt> in seconds before a Ceph Object Gateway
process dies. Disabled if set to <tt class="docutils literal"><span class="pre">0</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">thread</span> <span class="pre">pool</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The size of the thread pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">100 threads.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">num</span> <span class="pre">control</span> <span class="pre">oids</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of notification objects used for cache synchronization
between different <tt class="docutils literal"><span class="pre">rgw</span></tt> instances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">8</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">init</span> <span class="pre">timeout</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of seconds before Ceph Object Gateway gives up on
initialization.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">mime</span> <span class="pre">types</span> <span class="pre">file</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The path and location of the MIME types. Used for Swift
auto-detection of object types.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">/etc/mime.types</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">max</span> <span class="pre">objs</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of objects that may be handled by
garbage collection in one garbage collection processing cycle.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">32</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">obj</span> <span class="pre">min</span> <span class="pre">wait</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The minimum wait time before the object may be removed
and handled by garbage collection processing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">3600</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">processor</span> <span class="pre">max</span> <span class="pre">time</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum time between the beginning of two consecutive garbage
collection processing cycles.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">3600</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">processor</span> <span class="pre">period</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The cycle time for garbage collection processing.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">3600</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">s3</span> <span class="pre">success</span> <span class="pre">create</span> <span class="pre">obj</span> <span class="pre">status</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The alternate success status response for <tt class="docutils literal"><span class="pre">create-obj</span></tt>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">resolve</span> <span class="pre">cname</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether <tt class="docutils literal"><span class="pre">rgw</span></tt> should use DNS CNAME record of the request
hostname field (if hostname is not equal to <tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></tt>).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">object</span> <span class="pre">stripe</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The size of an object stripe for Ceph Object Gateway objects.
See <a class="reference external" href="../../architecture#data-striping">Architecture</a> for details on striping.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">4</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">extended</span> <span class="pre">http</span> <span class="pre">attrs</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Add new set of attributes that could be set on an object. These
extra attributes can be set through HTTP header fields when
putting the objects. If set, these attributes will return as HTTP
fields when doing GET/HEAD on the object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body">&#8220;content_foo, content_bar&#8221;</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">exit</span> <span class="pre">timeout</span> <span class="pre">secs</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Number of seconds to wait for a process before exiting
unconditionally.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">120</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">get</span> <span class="pre">obj</span> <span class="pre">window</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The window size in bytes for a single object request.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">16</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">get</span> <span class="pre">obj</span> <span class="pre">max</span> <span class="pre">req</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum request size of a single get operation sent to the
Ceph Storage Cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">4</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">relaxed</span> <span class="pre">s3</span> <span class="pre">bucket</span> <span class="pre">names</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enables relaxed S3 bucket names rules for US region buckets.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">list</span> <span class="pre">buckets</span> <span class="pre">max</span> <span class="pre">chunk</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of buckets to retrieve in a single operation
when listing user buckets.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1000</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">num</span> <span class="pre">zone</span> <span class="pre">opstate</span> <span class="pre">shards</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of shards for keeping inter-region copy
progress information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">128</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">opstate</span> <span class="pre">ratelimit</span> <span class="pre">sec</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The minimum time between opstate updates on a single upload.
<tt class="docutils literal"><span class="pre">0</span></tt> disables the ratelimit.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">curl</span> <span class="pre">wait</span> <span class="pre">timeout</span> <span class="pre">ms</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The timeout in milliseconds for certain <tt class="docutils literal"><span class="pre">curl</span></tt> calls.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1000</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">copy</span> <span class="pre">obj</span> <span class="pre">progress</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enables output of object progress during long copy operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">copy</span> <span class="pre">obj</span> <span class="pre">progress</span> <span class="pre">every</span> <span class="pre">bytes</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The minimum bytes between copy progress output.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">admin</span> <span class="pre">entry</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The entry point for an admin request URL.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">admin</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">content</span> <span class="pre">length</span> <span class="pre">compat</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enable compatability handling of FCGI requests with both CONTENT_LENGTH AND HTTP_CONTENT_LENGTH set.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<div class="section" id="regions">
<h2>Regions<a class="headerlink" href="#regions" title="Permalink to this headline">¶</a></h2>
<p>In Ceph v0.67 and beyond, Ceph Object Gateway supports federated deployments and
a global namespace via the notion of regions. A region defines the geographic
location of one or more Ceph Object Gateway instances within one or more zones.</p>
<p>Configuring regions differs from typical configuration procedures, because not
all of the settings end up in a Ceph configuration file. In Ceph v0.67 and
beyond, you can list regions, get a region configuration and set a region
configuration.</p>
<div class="section" id="list-regions">
<h3>List Regions<a class="headerlink" href="#list-regions" title="Permalink to this headline">¶</a></h3>
<p>A Ceph cluster contains a list of regions. To list the regions, execute:</p>
<div class="highlight-python"><pre>sudo radosgw-admin regions list</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">radosgw-admin</span></tt> returns a JSON formatted list of regions.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="s2">&quot;default_info&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;default_region&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">},</span>
  <span class="s2">&quot;regions&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;default&quot;</span><span class="p">]}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-a-region-map">
<h3>Get a Region Map<a class="headerlink" href="#get-a-region-map" title="Permalink to this headline">¶</a></h3>
<p>To list the details of each region, execute:</p>
<div class="highlight-python"><pre>sudo radosgw-admin region-map get</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you receive a <tt class="docutils literal"><span class="pre">failed</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">region</span> <span class="pre">map</span></tt> error, run
<tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">radosgw-admin</span> <span class="pre">region-map</span> <span class="pre">update</span></tt> first.</p>
</div>
</div>
<div class="section" id="get-a-region">
<h3>Get a Region<a class="headerlink" href="#get-a-region" title="Permalink to this headline">¶</a></h3>
<p>To view the configuration of a region, execute:</p>
<div class="highlight-python"><pre>radosgw-admin region get [--rgw-region=&lt;region&gt;]</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">default</span></tt> region looks like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
 <span class="s2">&quot;api_name&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;is_master&quot;</span><span class="o">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
 <span class="s2">&quot;endpoints&quot;</span><span class="o">:</span> <span class="p">[],</span>
 <span class="s2">&quot;hostnames&quot;</span><span class="o">:</span> <span class="p">[],</span>
 <span class="s2">&quot;master_zone&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;zones&quot;</span><span class="o">:</span> <span class="p">[</span>
   <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="s2">&quot;endpoints&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;log_meta&quot;</span><span class="o">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_data&quot;</span><span class="o">:</span> <span class="s2">&quot;false&quot;</span><span class="p">}</span>
  <span class="p">],</span>
 <span class="s2">&quot;placement_targets&quot;</span><span class="o">:</span> <span class="p">[</span>
   <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default-placement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[]</span> <span class="p">}],</span>
 <span class="s2">&quot;default_placement&quot;</span><span class="o">:</span> <span class="s2">&quot;default-placement&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="set-a-region">
<h3>Set a Region<a class="headerlink" href="#set-a-region" title="Permalink to this headline">¶</a></h3>
<p>Defining a region consists of creating a JSON object, specifying at least the
required settings:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt>: The name of the region. Required.</li>
<li><tt class="docutils literal"><span class="pre">api_name</span></tt>: The API name for the region. Optional.</li>
<li><tt class="docutils literal"><span class="pre">is_master</span></tt>: Determines if the region is the master region.  Required.
<strong>note:</strong> You can only have one master region.</li>
<li><tt class="docutils literal"><span class="pre">endpoints</span></tt>: A list of all the endpoints in the region. For example,
you may use multiple domain names to refer to the same region. Remember to
escape the forward slashes (<tt class="docutils literal"><span class="pre">\/</span></tt>). You may also specify a
port (<tt class="docutils literal"><span class="pre">fqdn:port</span></tt>) for each endpoint. Optional.</li>
<li><tt class="docutils literal"><span class="pre">hostnames</span></tt>: A list of all the hostnames in the region. For example,
you may use multiple domain names to refer to the same region. Optional.
The <tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></tt> setting will automatically be included in this list.
You should restart the <tt class="docutils literal"><span class="pre">radosgw</span></tt> daemon(s) after changing this setting.</li>
<li><tt class="docutils literal"><span class="pre">master_zone</span></tt>: The master zone for the region. Optional. Uses the default
zone if not specified. <strong>note:</strong> You can only have one master zone per
region.</li>
<li><tt class="docutils literal"><span class="pre">zones</span></tt>: A list of all zones within the region. Each zone has a
name (required), a list of endpoints (optional), and whether or not the
gateway will log metadata and data operations (false by default).</li>
<li><tt class="docutils literal"><span class="pre">placement_targets</span></tt>: A list of placement targets (optional). Each
placement target contains a name (required) for the placement target
and a list of tags (optional) so that only users with the tag can use
the placement target (i.e., the user&#8217;s <tt class="docutils literal"><span class="pre">placement_tags</span></tt> field in the
user info).</li>
<li><tt class="docutils literal"><span class="pre">default_placement</span></tt>: The default placement target for the object
index and object data. Set to <tt class="docutils literal"><span class="pre">default-placement</span></tt> by default. You
may also set a per-user default placement in the user info for each
user.</li>
</ol>
<p>To set a region, create a JSON object consisting of the required fields, save
the object to a file (e.g., <tt class="docutils literal"><span class="pre">region.json</span></tt>); then, execute the following
command:</p>
<div class="highlight-python"><pre>sudo radosgw-admin region set --infile region.json</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">region.json</span></tt> is the JSON file you created.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <tt class="docutils literal"><span class="pre">default</span></tt> region <tt class="docutils literal"><span class="pre">is_master</span></tt> setting is <tt class="docutils literal"><span class="pre">true</span></tt> by
default. If you create a new region and want to make it the master region,
you must either set the <tt class="docutils literal"><span class="pre">default</span></tt> region <tt class="docutils literal"><span class="pre">is_master</span></tt> setting to
<tt class="docutils literal"><span class="pre">false</span></tt>, or delete the <tt class="docutils literal"><span class="pre">default</span></tt> region.</p>
</div>
<p>Finally, update the map.</p>
<div class="highlight-python"><pre>sudo radosgw-admin region-map update</pre>
</div>
</div>
<div class="section" id="set-a-region-map">
<h3>Set a Region Map<a class="headerlink" href="#set-a-region-map" title="Permalink to this headline">¶</a></h3>
<p>Setting a region map consists of creating a JSON object consisting of one or more
regions, and setting the <tt class="docutils literal"><span class="pre">master_region</span></tt> for the cluster. Each region in the
region map consists of a key/value pair, where the <tt class="docutils literal"><span class="pre">key</span></tt> setting is equivalent to
the <tt class="docutils literal"><span class="pre">name</span></tt> setting for an individual region configuration, and the <tt class="docutils literal"><span class="pre">val</span></tt> is
a JSON object consisting of an individual region configuration.</p>
<p>You may only have one region with <tt class="docutils literal"><span class="pre">is_master</span></tt> equal to <tt class="docutils literal"><span class="pre">true</span></tt>, and it must be
specified as the <tt class="docutils literal"><span class="pre">master_region</span></tt> at the end of the region map. The following
JSON object is an example of a default region map.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="s2">&quot;regions&quot;</span><span class="o">:</span> <span class="p">[</span>
     <span class="p">{</span> <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
       <span class="s2">&quot;val&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
       <span class="s2">&quot;api_name&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
       <span class="s2">&quot;is_master&quot;</span><span class="o">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
       <span class="s2">&quot;endpoints&quot;</span><span class="o">:</span> <span class="p">[],</span>
       <span class="s2">&quot;hostnames&quot;</span><span class="o">:</span> <span class="p">[],</span>
       <span class="s2">&quot;master_zone&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
       <span class="s2">&quot;zones&quot;</span><span class="o">:</span> <span class="p">[</span>
         <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
           <span class="s2">&quot;endpoints&quot;</span><span class="o">:</span> <span class="p">[],</span>
           <span class="s2">&quot;log_meta&quot;</span><span class="o">:</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="s2">&quot;log_data&quot;</span><span class="o">:</span> <span class="s2">&quot;false&quot;</span><span class="p">}],</span>
            <span class="s2">&quot;placement_targets&quot;</span><span class="o">:</span> <span class="p">[</span>
              <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;default-placement&quot;</span><span class="p">,</span>
                <span class="s2">&quot;tags&quot;</span><span class="o">:</span> <span class="p">[]}],</span>
                <span class="s2">&quot;default_placement&quot;</span><span class="o">:</span> <span class="s2">&quot;default-placement&quot;</span>
              <span class="p">}</span>
          <span class="p">}</span>
       <span class="p">],</span>
   <span class="s2">&quot;master_region&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To set a region map, execute the following:</p>
<div class="highlight-python"><pre>sudo radosgw-admin region-map set --infile regionmap.json</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">regionmap.json</span></tt> is the JSON file you created. Ensure that you have
zones created for the ones specified in the region map. Finally, update the map.</p>
<div class="highlight-python"><pre>sudo radosgw-admin regionmap update</pre>
</div>
</div>
</div>
<div class="section" id="zones">
<h2>Zones<a class="headerlink" href="#zones" title="Permalink to this headline">¶</a></h2>
<p>In Ceph v0.67 and beyond, Ceph Object Gateway supports the notion of zones. A
zone defines a logical group consisting of one or more Ceph Object Gateway
instances.</p>
<p>Configuring zones differs from typical configuration procedures, because not
all of the settings end up in a Ceph configuration file. In Ceph v0.67 and
beyond, you can list zones, get a zone configuration and set a zone
configuration.</p>
<div class="section" id="list-zones">
<h3>List Zones<a class="headerlink" href="#list-zones" title="Permalink to this headline">¶</a></h3>
<p>To list the zones in a cluster, execute:</p>
<div class="highlight-python"><pre>sudo radosgw-admin zone list</pre>
</div>
</div>
<div class="section" id="get-a-zone">
<h3>Get a Zone<a class="headerlink" href="#get-a-zone" title="Permalink to this headline">¶</a></h3>
<p>To get the configuration of a zone, execute:</p>
<div class="highlight-python"><pre>sudo radosgw-admin zone get [--rgw-zone=&lt;zone&gt;]</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">default</span></tt> zone looks like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span> <span class="s2">&quot;domain_root&quot;</span><span class="o">:</span> <span class="s2">&quot;.rgw&quot;</span><span class="p">,</span>
  <span class="s2">&quot;control_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.rgw.control&quot;</span><span class="p">,</span>
  <span class="s2">&quot;gc_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.rgw.gc&quot;</span><span class="p">,</span>
  <span class="s2">&quot;log_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.log&quot;</span><span class="p">,</span>
  <span class="s2">&quot;intent_log_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.intent-log&quot;</span><span class="p">,</span>
  <span class="s2">&quot;usage_log_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.usage&quot;</span><span class="p">,</span>
  <span class="s2">&quot;user_keys_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.users&quot;</span><span class="p">,</span>
  <span class="s2">&quot;user_email_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.users.email&quot;</span><span class="p">,</span>
  <span class="s2">&quot;user_swift_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.users.swift&quot;</span><span class="p">,</span>
  <span class="s2">&quot;user_uid_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.users.uid&quot;</span><span class="p">,</span>
  <span class="s2">&quot;system_key&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;access_key&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;secret_key&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">},</span>
  <span class="s2">&quot;placement_pools&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>  <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;default-placement&quot;</span><span class="p">,</span>
         <span class="s2">&quot;val&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;index_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.rgw.buckets.index&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;data_pool&quot;</span><span class="o">:</span> <span class="s2">&quot;.rgw.buckets&quot;</span><span class="p">}</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="set-a-zone">
<h3>Set a Zone<a class="headerlink" href="#set-a-zone" title="Permalink to this headline">¶</a></h3>
<p>Configuring a zone involves specifying a series of Ceph Object Gateway pools.
For consistency, we recommend using a pool prefix that is
the same as the zone name. See <a class="reference internal" href="#pools">Pools</a> for details of configuring pools.</p>
<p>To set a zone, create a JSON object consisting of the pools, save
the object to a file (e.g., <tt class="docutils literal"><span class="pre">zone.json</span></tt>); then, execute the following
command, replacing <tt class="docutils literal"><span class="pre">{zone-name}</span></tt> with the name of the zone:</p>
<div class="highlight-python"><pre>sudo radosgw-admin zone set --rgw-zone={zone-name} --infile zone.json</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">zone.json</span></tt> is the JSON file you created.</p>
</div>
</div>
<div class="section" id="region-zone-settings">
<h2>Region/Zone Settings<a class="headerlink" href="#region-zone-settings" title="Permalink to this headline">¶</a></h2>
<p>You may include the following settings in your Ceph configuration
file under each <tt class="docutils literal"><span class="pre">[client.radosgw.{instance-name}]</span></tt> instance.</p>
<p class="versionadded">
<span class="versionmodified">New in version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">zone</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the zone for the gateway instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p class="versionadded">
<span class="versionmodified">New in version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">region</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the region for the gateway instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p class="versionadded">
<span class="versionmodified">New in version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">default</span> <span class="pre">region</span> <span class="pre">info</span> <span class="pre">oid</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The OID for storing the default region. We do not recommend
changing this setting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">default.region</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pools">
<h2>Pools<a class="headerlink" href="#pools" title="Permalink to this headline">¶</a></h2>
<p>Ceph zones map to a series of Ceph Storage Cluster pools.</p>
<div class="topic">
<p class="topic-title first">Manually Created Pools vs. Generated Pools</p>
<p>If you provide write capabilities to the user key for your Ceph Object
Gateway, the gateway has the ability to create pools automatically. This
is convenient, but the Ceph Object Storage Cluster uses the default
values for the number of placement groups (which may not be ideal) or the
values you specified in your Ceph configuration file. If you allow the
Ceph Object Gateway to create pools automatically, ensure that you have
reasonable defaults for the number of placement groups. See
<a class="reference external" href="../../rados/configuration/pool-pg-config-ref/">Pool Configuration</a> for details. See <a class="reference external" href="../../rados/operations/pools">Cluster Pools</a> for details on
creating pools.</p>
</div>
<p>The default pools for the Ceph Object Gateway&#8217;s default zone include:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">.rgw</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.rgw.control</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.rgw.gc</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.log</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.intent-log</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.usage</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.users</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.users.email</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.users.swift</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.users.uid</span></tt></li>
</ul>
<p>You have significant discretion in determining how you want a zone to access
pools. You can create pools on a per zone basis, or use the same pools for
multiple zones. As a best practice, we recommend having a separate set of pools
for your master zone and your secondary zones in each region. When creating
pools for a specific zone, consider prepending the region name and zone name to
the default pool names. For example:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">.region1-zone1.domain.rgw</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.rgw.control</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.rgw.gc</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.log</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.intent-log</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.usage</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.users</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.users.email</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.users.swift</span></tt></li>
<li><tt class="docutils literal"><span class="pre">.region1-zone1.users.uid</span></tt></li>
</ul>
<p>Ceph Object Gateways store data for the bucket index (<tt class="docutils literal"><span class="pre">index_pool</span></tt>) and bucket
data (<tt class="docutils literal"><span class="pre">data_pool</span></tt>) in placement pools. These may overlap&#8211;i.e., you may use
the same pool for the index and the data. The index pool for default
placement is <tt class="docutils literal"><span class="pre">.rgw.buckets.index</span></tt> and for the data pool for default placement
is <tt class="docutils literal"><span class="pre">.rgw.buckets</span></tt>. See <a class="reference internal" href="#zones">Zones</a> for details on specifying pools in a zone
configuration.</p>
<p class="deprecated">
<span class="versionmodified">Deprecated since version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">cluster</span> <span class="pre">root</span> <span class="pre">pool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The Ceph Storage Cluster pool to store <tt class="docutils literal"><span class="pre">radosgw</span></tt> metadata for
this instance. Not used in Ceph version v.67 and later. Use
<tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">zone</span> <span class="pre">root</span> <span class="pre">pool</span></tt> instead.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">No</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.rgw.root</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Replaced By:</th><td class="field-body"><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">zone</span> <span class="pre">root</span> <span class="pre">pool</span></tt></td>
</tr>
</tbody>
</table>
<p class="versionadded">
<span class="versionmodified">New in version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">region</span> <span class="pre">root</span> <span class="pre">pool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The pool for storing all region-specific information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.rgw.root</span></tt></td>
</tr>
</tbody>
</table>
<p class="versionadded">
<span class="versionmodified">New in version v.67.</span></p>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">zone</span> <span class="pre">root</span> <span class="pre">pool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The pool for storing zone-specific information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.rgw.root</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="swift-settings">
<h2>Swift Settings<a class="headerlink" href="#swift-settings" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">enforce</span> <span class="pre">swift</span> <span class="pre">acls</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enforces the Swift Access Control List (ACL) settings.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">token</span> <span class="pre">expiration</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The time in seconds for expiring a Swift token.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">24</span> <span class="pre">*</span> <span class="pre">3600</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">url</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The URL for the Ceph Object Gateway Swift API.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">url</span> <span class="pre">prefix</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The URL prefix for the Swift API.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">swift</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><a class="reference external" href="http://fqdn.com/swift">http://fqdn.com/swift</a></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">auth</span> <span class="pre">url</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Default URL for verifying v1 auth tokens (if not using internal
Swift auth).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">auth</span> <span class="pre">entry</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The entry point for a Swift auth URL.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">auth</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="logging-settings">
<h2>Logging Settings<a class="headerlink" href="#logging-settings" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">nonexistent</span> <span class="pre">bucket</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enables Ceph Object Gateway to log a request for a non-existent
bucket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The logging format for an object name. See manpage
<em class="manpage">date</em> for details about format specifiers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Date</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">%Y-%m-%d-%H-%i-%n</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span> <span class="pre">utc</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether a logged object name includes a UTC time.
If <tt class="docutils literal"><span class="pre">false</span></tt>, it uses the local time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">max</span> <span class="pre">shards</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of shards for usage logging.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">32</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">max</span> <span class="pre">user</span> <span class="pre">shards</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of shards used for a single user&#8217;s
usage logging.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">ops</span> <span class="pre">log</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enable logging for each successful Ceph Object Gateway operation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">usage</span> <span class="pre">log</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enable the usage log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">rados</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether the operations log should be written to the
Ceph Storage Cluster backend.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">true</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">socket</span> <span class="pre">path</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The Unix domain socket for writing operations logs.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">data</span> <span class="pre">backlog</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum data backlog data size for operations logs written
to a Unix domain socket.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">5</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">flush</span> <span class="pre">threshold</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of dirty merged entries in the usage log before
flushing synchronously.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">1024</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">tick</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Flush pending usage log data every <tt class="docutils literal"><span class="pre">n</span></tt> seconds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">intent</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The logging format for the intent log object name. See manpage
<em class="manpage">date</em> for details about format specifiers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Date</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">%Y-%m-%d-%i-%n</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">intent</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span> <span class="pre">utc</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether the intent log object name includes a UTC time.
If <tt class="docutils literal"><span class="pre">false</span></tt>, it uses the local time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">false</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">window</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The data log entries window in seconds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">30</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">changes</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of in-memory entries to hold for the data changes log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1000</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">num</span> <span class="pre">shards</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of shards (objects) on which to keep the
data changes log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">128</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">obj</span> <span class="pre">prefix</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The object name prefix for the data log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">data_log</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">replica</span> <span class="pre">log</span> <span class="pre">obj</span> <span class="pre">prefix</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The object name prefix for the replica log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">replica</span> <span class="pre">log</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">md</span> <span class="pre">log</span> <span class="pre">max</span> <span class="pre">shards</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of shards for the metadata log.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">64</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="keystone-settings">
<h2>Keystone Settings<a class="headerlink" href="#keystone-settings" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">url</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The URL for the Keystone server.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">token</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The Keystone admin token (shared secret).</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">accepted</span> <span class="pre">roles</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The roles requires to serve requests.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">Member,</span> <span class="pre">admin</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">token</span> <span class="pre">cache</span> <span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum number of entries in each Keystone token cache.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">10000</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">revocation</span> <span class="pre">interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of seconds between token revocation checks.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">15</span> <span class="pre">*</span> <span class="pre">60</span></tt></td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">发布时间表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>